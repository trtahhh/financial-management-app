# Financial Management App

á»¨ng dá»¥ng quáº£n lÃ½ tÃ i chÃ­nh cÃ¡ nhÃ¢n vá»›i giao diá»‡n web hiá»‡n Ä‘áº¡i vÃ  AI Chat há»— trá»£.

## ğŸš€ TÃ­nh nÄƒng chÃ­nh

### ğŸ’° Quáº£n lÃ½ tÃ i chÃ­nh
- **Giao dá»‹ch**: ThÃªm, sá»­a, xÃ³a giao dá»‹ch thu chi
- **Danh má»¥c**: Quáº£n lÃ½ danh má»¥c chi tiÃªu tÃ¹y chá»‰nh
- **VÃ­**: Quáº£n lÃ½ nhiá»u vÃ­ tiá»n khÃ¡c nhau
- **NgÃ¢n sÃ¡ch**: Thiáº¿t láº­p vÃ  theo dÃµi ngÃ¢n sÃ¡ch theo thÃ¡ng
- **Má»¥c tiÃªu**: Äáº·t vÃ  theo dÃµi má»¥c tiÃªu tÃ i chÃ­nh
- **Giao dá»‹ch Ä‘á»‹nh ká»³**: Tá»± Ä‘á»™ng táº¡o giao dá»‹ch theo lá»‹ch

### ğŸ¤– AI Chat thÃ´ng minh
- **TÆ° váº¥n tÃ i chÃ­nh**: Lá»i khuyÃªn vá» tiáº¿t kiá»‡m, Ä‘áº§u tÆ°, quáº£n lÃ½ chi tiÃªu
- **BÃ¡o cÃ¡o tá»± Ä‘á»™ng**: Táº¡o bÃ¡o cÃ¡o tÃ i chÃ­nh báº±ng AI
- **Há»— trá»£ Ä‘a ngÃ´n ngá»¯**: Giao tiáº¿p báº±ng tiáº¿ng Viá»‡t
- **PhÃ¢n tÃ­ch thÃ´ng minh**: Hiá»ƒu Ã½ Ä‘á»‹nh ngÆ°á»i dÃ¹ng vÃ  Ä‘Æ°a ra gá»£i Ã½ phÃ¹ há»£p

### ğŸš€ AI PhÃ¢n tÃ­ch nÃ¢ng cao (Má»šI)
- **PhÃ¢n tÃ­ch tÃ i chÃ­nh toÃ n diá»‡n**: ÄÃ¡nh giÃ¡ tÃ¬nh hÃ¬nh dá»±a trÃªn dá»¯ liá»‡u thá»±c táº¿
- **Dá»± bÃ¡o tÃ i chÃ­nh tÆ°Æ¡ng lai**: Dá»± bÃ¡o 3, 6, 12 thÃ¡ng tá»›i
- **PhÃ¢n tÃ­ch xu hÆ°á»›ng chi tiÃªu**: Pattern vÃ  chu ká»³ chi tiÃªu
- **Tá»‘i Æ°u hÃ³a ngÃ¢n sÃ¡ch**: Cáº£i thiá»‡n hiá»‡u quáº£ quáº£n lÃ½ ngÃ¢n sÃ¡ch
- **PhÃ¢n tÃ­ch rá»§i ro tÃ i chÃ­nh**: ÄÃ¡nh giÃ¡ vÃ  báº£o vá»‡ tÃ i chÃ­nh
- **Lá»i khuyÃªn Ä‘áº§u tÆ° cÃ¡ nhÃ¢n hÃ³a**: TÆ° váº¥n theo profile cÃ¡ nhÃ¢n

### ğŸ“Š BÃ¡o cÃ¡o tÃ­ch há»£p
- **BÃ¡o cÃ¡o tá»•ng há»£p**: Tá»•ng quan thu chi, chi tiÃªu theo danh má»¥c
- **BÃ¡o cÃ¡o giao dá»‹ch**: Chi tiáº¿t giao dá»‹ch theo thá»i gian
- **BÃ¡o cÃ¡o ngÃ¢n sÃ¡ch**: Theo dÃµi sá»­ dá»¥ng ngÃ¢n sÃ¡ch
- **Xuáº¥t bÃ¡o cÃ¡o**: Copy, táº£i vá», in bÃ¡o cÃ¡o trá»±c tiáº¿p tá»« AI Chat

### ğŸ” Báº£o máº­t
- **JWT Authentication**: XÃ¡c thá»±c ngÆ°á»i dÃ¹ng an toÃ n
- **MÃ£ hÃ³a máº­t kháº©u**: Sá»­ dá»¥ng BCrypt
- **PhÃ¢n quyá»n**: Má»—i ngÆ°á»i dÃ¹ng chá»‰ tháº¥y dá»¯ liá»‡u cá»§a mÃ¬nh

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

### Backend
- **Spring Boot 3.x**: Framework Java hiá»‡n Ä‘áº¡i
- **Spring Security**: Báº£o máº­t vÃ  xÃ¡c thá»±c
- **Spring Data JPA**: Truy cáº­p cÆ¡ sá»Ÿ dá»¯ liá»‡u
- **SQL Server**: CÆ¡ sá»Ÿ dá»¯ liá»‡u chÃ­nh
- **JWT**: XÃ¡c thá»±c token
- **Lombok**: Giáº£m boilerplate code

### Frontend
- **Node.js + Express**: Server-side rendering
- **EJS**: Template engine
- **Vanilla JavaScript**: Giao diá»‡n ngÆ°á»i dÃ¹ng
- **Bootstrap 5**: CSS framework
- **Chart.js**: Biá»ƒu Ä‘á»“ tÆ°Æ¡ng tÃ¡c

### AI & BÃ¡o cÃ¡o
- **OpenRouter API**: Káº¿t ná»‘i vá»›i cÃ¡c mÃ´ hÃ¬nh AI
- **ReportService**: Táº¡o bÃ¡o cÃ¡o tá»± Ä‘á»™ng
- **Text Export**: Xuáº¥t bÃ¡o cÃ¡o dáº¡ng vÄƒn báº£n
- **Smart Parsing**: PhÃ¢n tÃ­ch yÃªu cáº§u bÃ¡o cÃ¡o tá»« tin nháº¯n

### AI PhÃ¢n tÃ­ch nÃ¢ng cao
- **AIFinancialAnalysisService**: Service phÃ¢n tÃ­ch tÃ i chÃ­nh AI
- **AIFinancialAnalysisController**: API endpoints cho phÃ¢n tÃ­ch nÃ¢ng cao
- **Prompt Engineering**: Tá»‘i Æ°u hÃ³a prompt cho tá»«ng loáº¡i phÃ¢n tÃ­ch
- **Data Context**: Cung cáº¥p context dá»¯ liá»‡u thá»±c táº¿ cho AI

## ğŸ“± CÃ¡ch sá»­ dá»¥ng

### 1. Khá»Ÿi Ä‘á»™ng á»©ng dá»¥ng
```bash
# Backend (Spring Boot)
cd backend
./mvnw spring-boot:run

# Frontend (Node.js)
cd frontend
npm install
npm start
```

### 2. Sá»­ dá»¥ng AI Chat
- Truy cáº­p trang **AI Chat**
- GÃµ cÃ¢u há»i vá» tÃ i chÃ­nh
- Sá»­ dá»¥ng cÃ¡c template cÃ³ sáºµn Ä‘á»ƒ táº¡o bÃ¡o cÃ¡o

### 3. Táº¡o bÃ¡o cÃ¡o báº±ng AI
```
# BÃ¡o cÃ¡o tá»•ng há»£p
"Táº¡o bÃ¡o cÃ¡o tá»•ng há»£p thÃ¡ng nÃ y"

# BÃ¡o cÃ¡o giao dá»‹ch
"BÃ¡o cÃ¡o giao dá»‹ch tá»« 01/01 Ä‘áº¿n 31/01"

# BÃ¡o cÃ¡o ngÃ¢n sÃ¡ch
"BÃ¡o cÃ¡o ngÃ¢n sÃ¡ch thÃ¡ng 12 nÄƒm 2024"
```

### 4. Sá»­ dá»¥ng AI PhÃ¢n tÃ­ch nÃ¢ng cao
```
# PhÃ¢n tÃ­ch tÃ i chÃ­nh
"PhÃ¢n tÃ­ch thá»±c táº¿ tÃ¬nh hÃ¬nh tÃ i chÃ­nh cá»§a tÃ´i"
"TÃ¬nh hÃ¬nh hiá»‡n táº¡i"

# Dá»± bÃ¡o tÆ°Æ¡ng lai
"Dá»± bÃ¡o tÃ i chÃ­nh 6 thÃ¡ng tá»›i"
"Dá»± bÃ¡o tÃ i chÃ­nh 12 thÃ¡ng tá»›i"

# PhÃ¢n tÃ­ch xu hÆ°á»›ng
"PhÃ¢n tÃ­ch xu hÆ°á»›ng chi tiÃªu"
"PhÃ¢n tÃ­ch pattern chi tiÃªu"

# Tá»‘i Æ°u hÃ³a
"Tá»‘i Æ°u hÃ³a ngÃ¢n sÃ¡ch"
"Cáº£i thiá»‡n hiá»‡u quáº£ ngÃ¢n sÃ¡ch"

# PhÃ¢n tÃ­ch rá»§i ro
"PhÃ¢n tÃ­ch rá»§i ro tÃ i chÃ­nh"
"Báº£o vá»‡ tÃ i chÃ­nh"

# TÆ° váº¥n Ä‘áº§u tÆ°
"Lá»i khuyÃªn Ä‘áº§u tÆ° cÃ¡ nhÃ¢n"
"TÆ° váº¥n Ä‘áº§u tÆ° theo profile"
```

### 4. Xuáº¥t bÃ¡o cÃ¡o
- **Copy**: Sao chÃ©p vÃ o clipboard
- **Táº£i vá»**: LÆ°u file .txt
- **In**: In bÃ¡o cÃ¡o trá»±c tiáº¿p

## ğŸ”§ Cáº¥u hÃ¬nh

### Database
```properties
# application.properties
spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=FinancialManagement
spring.datasource.username=your_username
spring.datasource.password=your_password
```

### AI Chat
```properties
# OpenRouter API
openrouter.api.key=your_api_key
openrouter.api.url=https://openrouter.ai/api/v1
```

## ğŸ“Š Cáº¥u trÃºc cÆ¡ sá»Ÿ dá»¯ liá»‡u

### Báº£ng chÃ­nh
- **Users**: ThÃ´ng tin ngÆ°á»i dÃ¹ng
- **Transactions**: Giao dá»‹ch thu chi
- **Categories**: Danh má»¥c chi tiÃªu
- **Wallets**: VÃ­ tiá»n
- **Budgets**: NgÃ¢n sÃ¡ch
- **Goals**: Má»¥c tiÃªu tÃ i chÃ­nh

### Quan há»‡
- User â†’ Transactions (1:N)
- User â†’ Categories (1:N)
- User â†’ Wallets (1:N)
- User â†’ Budgets (1:N)
- User â†’ Goals (1:N)

## ğŸš¨ Xá»­ lÃ½ lá»—i

### Transaction Issues
**Lá»—i "Violation of PRIMARY KEY constraint" khi táº¡o giao dá»‹ch:**
- **NguyÃªn nhÃ¢n**: IDENTITY sequence bá»‹ lá»—i hoáº·c mapper set ID thá»§ cÃ´ng
- **Giáº£i phÃ¡p**:
  1. Restart backend sau khi sá»­a code
  2. Cháº¡y script `database/fix_transaction_sequence.sql` Ä‘á»ƒ reset sequence
  3. Kiá»ƒm tra database cÃ³ dá»¯ liá»‡u cÅ© vá»›i ID trÃ¹ng khÃ´ng
- **Files Ä‘Ã£ sá»­a**:
  - `TransactionMapperImpl.java` (comment out `entity.setId()`)
  - `TransactionService.java` (xá»­ lÃ½ create/update riÃªng biá»‡t)

### Budget Issues
**Lá»—i "Category is required" khi táº¡o ngÃ¢n sÃ¡ch:**
- **NguyÃªn nhÃ¢n**: Frontend gá»­i `category_id` nhÆ°ng backend DTO mong Ä‘á»£i `categoryId`
- **Giáº£i phÃ¡p**:
  1. Restart frontend sau khi sá»­a code
  2. Kiá»ƒm tra form validation hoáº¡t Ä‘á»™ng Ä‘Ãºng
  3. Äáº£m báº£o Ä‘Ã£ chá»n danh má»¥c trÆ°á»›c khi submit
- **Files Ä‘Ã£ sá»­a**:
  - `frontend/public/js/budgets.js` (sá»­a field mapping vÃ  validation)

### AI Chat Issues
**Lá»—i káº¿t ná»‘i AI hoáº·c khÃ´ng táº¡o Ä‘Æ°á»£c bÃ¡o cÃ¡o:**
- **NguyÃªn nhÃ¢n**: API key háº¿t háº¡n hoáº·c lá»—i káº¿t ná»‘i
- **Giáº£i phÃ¡p**:
  1. Kiá»ƒm tra OpenRouter API key trong `application.properties`
  2. Restart backend sau khi cáº­p nháº­t cáº¥u hÃ¬nh
  3. Kiá»ƒm tra log backend Ä‘á»ƒ debug

## ğŸ”„ Cáº­p nháº­t gáº§n Ä‘Ã¢y

### v2.1.0 - AI Chat tÃ­ch há»£p bÃ¡o cÃ¡o
- âœ… TÃ­ch há»£p chá»©c nÄƒng bÃ¡o cÃ¡o vÃ o AI Chat
- âœ… Tá»± Ä‘á»™ng nháº­n diá»‡n yÃªu cáº§u bÃ¡o cÃ¡o
- âœ… Há»— trá»£ 3 loáº¡i bÃ¡o cÃ¡o: tá»•ng há»£p, giao dá»‹ch, ngÃ¢n sÃ¡ch
- âœ… Xuáº¥t bÃ¡o cÃ¡o: copy, táº£i vá», in
- âœ… Template bÃ¡o cÃ¡o cÃ³ sáºµn
- âœ… Giao diá»‡n chat hiá»‡n Ä‘áº¡i vÃ  responsive

### v2.0.0 - Cáº£i thiá»‡n giao diá»‡n
- âœ… Thiáº¿t káº¿ láº¡i UI/UX
- âœ… Responsive design cho mobile
- âœ… Cáº£i thiá»‡n performance
- âœ… Sá»­a lá»—i giao dá»‹ch vÃ  ngÃ¢n sÃ¡ch

## ğŸ“ Ghi chÃº phÃ¡t triá»ƒn

### AI Chat Integration
- **ReportService**: Xá»­ lÃ½ logic táº¡o bÃ¡o cÃ¡o
- **AIFinanceService**: TÃ­ch há»£p bÃ¡o cÃ¡o vÃ o AI Chat
- **Smart Parsing**: PhÃ¢n tÃ­ch yÃªu cáº§u tá»« tin nháº¯n tá»± nhiÃªn
- **Export Options**: Copy, download, print bÃ¡o cÃ¡o

### Performance Optimization
- **Lazy Loading**: Táº£i dá»¯ liá»‡u theo nhu cáº§u
- **Caching**: Cache cÃ¡c bÃ¡o cÃ¡o thÆ°á»ng dÃ¹ng
- **Async Processing**: Xá»­ lÃ½ bÃ¡o cÃ¡o khÃ´ng Ä‘á»“ng bá»™

## ğŸ¤ ÄÃ³ng gÃ³p

1. Fork repository
2. Táº¡o feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Táº¡o Pull Request

## ğŸ“„ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t hÃ nh dÆ°á»›i MIT License - xem file [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.

## ğŸ“ Há»— trá»£

Náº¿u gáº·p váº¥n Ä‘á» hoáº·c cÃ³ cÃ¢u há»i:
- Táº¡o issue trÃªn GitHub
- LiÃªn há»‡ qua email: support@financeapp.com
- Tham kháº£o tÃ i liá»‡u API: `/api/docs`

---

**LÆ°u Ã½**: ÄÃ¢y lÃ  dá»± Ã¡n demo, vui lÃ²ng khÃ´ng sá»­ dá»¥ng cho má»¥c Ä‘Ã­ch sáº£n xuáº¥t mÃ  khÃ´ng cÃ³ kiá»ƒm tra báº£o máº­t Ä‘áº§y Ä‘á»§.
