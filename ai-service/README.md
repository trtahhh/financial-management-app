# Vietnamese Financial AI Service > Industrial-scale AI service with 9 advanced ML libraries for Vietnamese financial management [![FastAPI](https://img.shields.io/badge/FastAPI-2.0-009688.svg)](https://fastapi.tiangolo.com/) [![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)](https://python.org) [![Accuracy](https://img.shields.io/badge/Accuracy-90.47%25-brightgreen.svg)]() [![ML Libraries](https://img.shields.io/badge/ML%20Libraries-9%2F9-success.svg)]() **Version:** 3.0.0 | **Status:** Production Ready --- ## Table of Contents - [Overview](#-overview) - [ML Libraries](#-ml-libraries-99-success) - [Features](#-features) - [Installation](#-installation) - [API Documentation](#-api-documentation) - [Performance](#-performance-metrics) - [Testing](#-testing) - [Troubleshooting](#-troubleshooting) --- ## Overview Vietnamese Financial AI Service l√† h·ªá th·ªëng AI to√†n di·ªán cho qu·∫£n l√Ω t√†i ch√≠nh ti·∫øng Vi·ªát, ƒë∆∞·ª£c trang b·ªã **9 th∆∞ vi·ªán ML ti√™n ti·∫øn nh·∫•t** v√† trained tr√™n **200K Vietnamese transactions**. ### Key Highlights | Feature | Specification | |---------|--------------| | **Accuracy** | 90.47% (Random Forest, 3,000 features) | | **Training Data** | 200,000 Vietnamese transactions (41.37 MB) | | **Processing Speed** | 844 samples/second | | **Categories** | 8 Vietnamese categories | | **ML Libraries** | 9/9 successfully integrated (100%) | | **API Endpoints** | 15+ production-ready endpoints | | **NLP Engine** | Underthesea + pyvi tokenization | | **Model Stability** | CV Score 92.46% ¬± 1.29% | --- ## ML Libraries (9/9 Success!) ### **Successfully Integrated** | Library | Version | Use Case | Performance | |---------|---------|----------|-------------| | **XGBoost** | 2.0.3 | Gradient boosting predictions | +10-20% accuracy vs RF | | **LightGBM** | 4.1.0 | Fast gradient boosting | 3-5x faster than XGBoost | | **Prophet** | 1.1.5 | Time series forecasting | Auto seasonality detection | | **SHAP** | 0.44.0 | AI explainability | Feature importance analysis | | **Optuna** | 3.5.0 | Hyperparameter tuning | Auto-optimization | | **SMOTE** | 0.11.0 | Imbalanced data handling | Balanced training data | | **TextBlob** | 0.17.1 | Sentiment analysis | Polarity score -1 to +1 | | **VADER** | 3.3.2 | Social media sentiment | Compound score | | **Word2Vec** | 4.4.0 | Word embeddings | Semantic understanding | **Success Rate:** 9/9 (100%) ### **What Each Library Does** #### **1. XGBoost - Gradient Boosting** ```python # High-accuracy predictions - ƒê·ªô ch√≠nh x√°c +10-20% vs Random Forest - Regularization tr√°nh overfitting - X·ª≠ l√Ω missing data t·ª± ƒë·ªông - Best for: Budget prediction, risk analysis ``` #### **2. LightGBM - Fast Gradient Boosting** ```python # Speed optimization - 3-5x NHANH H∆†N XGBoost - Ti·∫øt ki·ªám memory - T·ªët cho dataset l·ªõn (>100k transactions) - Best for: Real-time predictions, ensemble models ``` #### **3. Prophet - Time Series Forecasting** ```python # Trend prediction by Facebook - Auto-detect seasonality (weekly, monthly) - Holiday effects detection - Uncertainty intervals - Trend changepoint detection - Best for: 6-12 month spending forecasts ``` #### **4. SHAP - AI Explainability** ```python # Explain AI decisions - Feature importance chi ti·∫øt - Why AI made this recommendation? - TƒÉng user trust - Best for: Budget recommendations, financial advice ``` #### **5. Optuna - Auto ML Tuning** ```python # Automatic optimization - T·ª± ƒë·ªông t√¨m best hyperparameters - TƒÉng accuracy 5-15% - Bayesian optimization - Best for: Model training, accuracy improvement ``` #### **6. SMOTE/ADASYN - Imbalanced Data** ```python # Handle rare categories - Synthetic Minority Oversampling - Adaptive Synthetic Sampling - Balanced training data - Best for: Categories v·ªõi √≠t transactions ``` #### **7. TextBlob - Sentiment Analysis** ```python # Text emotion analysis - Polarity score (-1 to +1) - Subjectivity analysis - Easy to use - Best for: Transaction sentiment, user feedback ``` #### **8. VADER - Social Media Sentiment** ```python # Advanced sentiment - Optimized for slang, emoticons - Compound score - No training needed - Best for: Ensemble v·ªõi TextBlob ``` #### **9. Word2Vec - Word Embeddings** ```python # Semantic understanding - 300-dimension vectors - Similar words detection - Context awareness - Best for: Transaction similarity, clustering ``` --- ## Features ### **1. Transaction Classification** ```python POST /classify { "text": "Mua c√† ph√™ Highlands 50000 VND" } Response: { "category": "ƒÉn u·ªëng", "confidence": 0.94, "processing_time": 0.012 } ``` **Specs:** - 90.47% accuracy - 844 samples/second - 8 Vietnamese categories - Confidence score included ### **2. Financial Advice (RAG-based)** ```python POST /advice { "category": "food", "amount": 500000, "description": "Chi ti√™u ƒÉn u·ªëng h√†ng ng√†y" } Response: { "advice": "Detailed financial advice...", "tips": ["Tip 1", "Tip 2", ...], "alternatives": [...] } ``` **Features:** - 6 Vietnamese financial guides - TF-IDF knowledge search - Context-aware responses - Personalized recommendations ### **3. Ultra Planning (9 ML Libraries)** ```python POST /ultra/generate-insights { "transactions": [...], "monthly_income": 10000000, "enable_shap": true } Response: { "ensemble_predictions": {...}, "prophet_forecast": {...}, "shap_explanations": {...}, "sentiment_analysis": {...}, "word_similarities": {...} } ``` **Capabilities:** - Ensemble predictions (XGBoost + LightGBM) - 6-12 month trend forecasting - Financial risk analysis - Budget optimization - AI explainability ### **4. Batch Classification** ```python POST /classify-batch { "transactions": [ {"text": "Grab bike 25000"}, {"text": "Shopee √°o 150000"}, {"text": "C∆°m tr∆∞a 50000"} ] } Response: 844 transactions/second ``` ### **5. Knowledge Search** ```python POST /knowledge/search { "query": "c√°ch ti·∫øt ki·ªám ti·ªÅn", "top_k": 3 } Response: { "results": [ { "content": "Guide content...", "score": 0.95, "title": "Guide title" } ] } ``` **Knowledge Base:** - 6 Vietnamese financial guides - TF-IDF embeddings - Cosine similarity search - Relevance scoring --- ## Installation ### **Prerequisites** ```bash Python 3.9+ pip 21.0+ Virtual environment (recommended) ``` ### **1. Setup Virtual Environment** ```bash cd ai-service # Create venv python -m venv .venv # Activate (Windows) .\.venv\Scripts\Activate.ps1 # Activate (Linux/Mac) source .venv/bin/activate ``` ### **2. Install Dependencies** ```bash # Install all ML libraries pip install -r requirements.txt # Verify installation python -c "import xgboost, lightgbm, prophet, shap; print(' All libraries OK')" ``` ### **3. Start Service** ```bash # Automatic (Windows) .\start_service.ps1 # Manual python main.py # Service runs on: http://localhost:8001 ``` ### **4. Verify Health** ```bash curl http://localhost:8001/health Expected Response: { "status": "healthy", "ml_libraries": { "xgboost": true, "lightgbm": true, "prophet": true, "shap": true, ... } } ``` --- ## API Documentation ### **Base URL** ``` http://localhost:8001 ``` ### **Core Endpoints** #### **1. Health Check** ```http GET /health Response: { "status": "healthy", "service": "ultra-vietnamese-financial-ai-planning", "ml_libraries": {...}, "version": "3.0.0" } ``` #### **2. System Stats** ```http GET /stats Response: { "ultra_available": true, "features_available": [ "Ensemble Predictions (XGBoost + LightGBM)", "Time Series Forecasting (Prophet)", "AI Explainability (SHAP)", ... ] } ``` #### **3. Transaction Classification** ```http POST /classify Content-Type: application/json { "text": "Mua c√† ph√™ Starbucks 50000" } Response: { "category": "ƒÉn u·ªëng", "confidence": 0.94, "processing_time": 0.012 } ``` #### **4. Financial Advice** ```http POST /advice { "category": "food", "amount": 500000, "description": "Monthly food expenses" } Response: { "advice": "Detailed advice...", "tips": [...], "alternatives": [...] } ``` #### **5. Ultra Insights (All 9 Libraries)** ```http POST /ultra/generate-insights { "transactions": [...], "monthly_income": 10000000, "enable_shap": true } Response: { "ensemble_predictions": {...}, "prophet_forecast": {...}, "shap_explanations": {...}, "sentiment_analysis": {...} } ``` #### **6. Sentiment Analysis** ```http POST /ultra/sentiment { "texts": [ "Chi ti√™u nhi·ªÅu qu√°", "Ti·∫øt ki·ªám ƒë∆∞·ª£c r·ªìi" ] } Response: { "results": [ { "text": "Chi ti√™u nhi·ªÅu qu√°", "textblob": -0.3, "vader": -0.5, "average": -0.4 } ] } ``` #### **7. Batch Classification** ```http POST /classify-batch { "transactions": [ {"text": "Grab 25000"}, {"text": "Shopee 150000"} ] } Response: { "results": [...], "processing_time": 0.024 } ``` #### **8. Knowledge Search** ```http POST /knowledge/search { "query": "ti·∫øt ki·ªám", "top_k": 3 } Response: { "results": [...] } ``` --- ## Performance Metrics ### **Classification Performance** ``` Accuracy: 90.47% CV Score: 92.46% ¬± 1.29% Processing Speed: 844 samples/second Features: 3,000 TF-IDF features Model: Random Forest ``` ### **Training Data Stats** ``` Total Samples: 200,000 Data Size: 41.37 MB Categories: 8 Diversity: High-quality Vietnamese transactions Balance: Well-balanced across categories ``` ### **API Performance** ``` Health Check: < 10ms Classification: < 50ms Advice: < 100ms Ultra Insights: < 500ms Batch (100 items): < 2s ``` ### **ML Libraries Performance** ``` XGBoost Training: ~30s LightGBM Training: ~10s (3x faster) Prophet Forecast: ~5s SHAP Explanation: ~100ms Optuna Tuning: ~5 minutes (one-time) ``` --- ## üß™ Testing ### **1. Run All Tests** ```bash python test_ultra_api.py ``` ### **2. Test Individual Features** ```bash # Classification curl -X POST http://localhost:8001/classify \ -H "Content-Type: application/json" \ -d '{"text": "Mua c√† ph√™ 50000"}' # Ultra insights curl -X POST http://localhost:8001/ultra/generate-insights \ -H "Content-Type: application/json" \ -d @test_data.json # Sentiment curl -X POST http://localhost:8001/ultra/sentiment \ -d '{"texts": ["Chi ti√™u nhi·ªÅu"]}' ``` ### **3. Load Testing** ```bash # Test with 1000 requests python load_test.py --requests 1000 ``` ### **4. Verify ML Libraries** ```python # test_libraries.py import xgboost, lightgbm, prophet, shap print(" All 9 libraries working!") ``` --- ## Troubleshooting ### **Issue: Prophet installation failed** ```bash # Solution 1: Downgrade scipy pip install scipy==1.14.1 # Solution 2: Upgrade gensim pip install gensim==4.4.0 # Solution 3: Reinstall pip uninstall prophet pip install prophet==1.1.5 ``` ### **Issue: SMOTE/ADASYN not found** ```bash # Reinstall imbalanced-learn pip uninstall imbalanced-learn pip install imbalanced-learn==0.11.0 ``` ### **Issue: Service won't start** ```bash # Check Python version python --version # Must be >= 3.9 # Check dependencies pip list | grep -E "xgboost|lightgbm|prophet" # Reinstall all pip install -r requirements.txt --force-reinstall ``` ### **Issue: Low accuracy** ```python # Retrain model with new data python retrain_model.py # Adjust confidence threshold CONFIDENCE_THRESHOLD = 0.7 # Lower from 0.85 ``` ### **Issue: Port 8001 in use** ```bash # Find process netstat -ano | findstr :8001 # Kill process (Windows) taskkill /PID <PID> /F # Kill process (Linux/Mac) kill -9 <PID> ``` --- ## üîß Configuration ### **Environment Variables** ```bash # .env AI_SERVICE_PORT=8001 AI_MODEL_PATH=./models AI_CONFIDENCE_THRESHOLD=0.85 AI_BATCH_SIZE=100 AI_ENABLE_LOGGING=true ``` ### **Model Configuration** ```python # config.py MODEL_CONFIG = { "random_forest": { "n_estimators": 100, "max_depth": None, "min_samples_split": 2 }, "xgboost": { "n_estimators": 162, "max_depth": 8, "learning_rate": 0.25 }, "lightgbm": { "n_estimators": 150, "max_depth": 7, "learning_rate": 0.2 } } ``` --- ## Model Training ### **Retrain Classification Model** ```bash python train_classifier.py \ --data vietnamese_transactions_200k.csv \ --model random_forest \ --output models/classifier.pkl ``` ### **Tune Hyperparameters** ```bash python tune_hyperparameters.py \ --model xgboost \ --trials 100 \ --metric accuracy ``` ### **Evaluate Model** ```bash python evaluate_model.py \ --model models/classifier.pkl \ --test-data test_set.csv ``` --- ## Security - Input validation on all endpoints - Rate limiting (100 req/min per IP) - CORS configuration - SQL injection protection - XSS prevention - API key authentication (optional) --- ## Roadmap ### **v3.1.0 (Planned)** - [ ] Multi-language support (English, Chinese) - [ ] Deep learning models (BERT, GPT) - [ ] Real-time model updates - [ ] Advanced anomaly detection - [ ] Predictive spending alerts ### **v3.2.0 (Future)** - [ ] Multi-user clustering - [ ] Investment recommendations - [ ] Credit score prediction - [ ] Fraud detection - [ ] Voice input support --- ## ü§ù Contributing 1. Fork repository 2. Create feature branch 3. Add tests 4. Commit changes 5. Create Pull Request --- ## License MIT License --- ## Support - Email: ai-support@financeapp.com - üêõ Issues: [GitHub Issues](https://github.com/trtahhh/financial-management-app/issues) - Docs: [Full Documentation](https://docs.financeapp.com/ai-service) --- <div align="center"> **Powered by 9 Advanced ML Libraries** Production Ready | üáªüá≥ Vietnamese Optimized | 90.47% Accuracy [ Main Project](../) | [ API Docs](#-api-documentation) | [üß™ Testing](#-testing) </div> 